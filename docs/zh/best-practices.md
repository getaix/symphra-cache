# 最佳实践

帮助你用 Symphra Cache 构建健壮与高效的缓存策略。

## 键与命名空间
- 使用一致的 `key_prefix`（如 `user:`）
- 避免直接嵌入易变参数，尽量规范化

## TTL 与新鲜度
- 根据数据波动与 SLA 选择 TTL
- TTL 与显式失效组合使用

## 装饰器
- 首选 `@cache` 与 `@acache`
- 保持函数参数可 JSON 序列化或实现自定义序列化

## 后端选择
- `MemoryBackend`：单进程最快
- `FileBackend`：开发与简单持久化
- `RedisBackend`：共享、持久化与水平扩展

## 监控与运维
- 追踪命中/未命中、延迟分位与错误率
- 对未命中激增与后端超时设置告警
- 在流量高峰前进行关键路径预热

## 测试
- 单元测试中模拟后端以保证确定性
- 校验缓存键与失效路径的正确性
